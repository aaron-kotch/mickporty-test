{"version":3,"sources":["components/Common/PageLayout/PageLayout.jsx","../node_modules/@material-ui/core/esm/Container/Container.js","assets/svgs/fmtnglogo.svg","Pages/SignIn/SignIn.jsx"],"names":["useStyles","makeStyles","theme","root","paddingTop","overflow","backgroundColor","height","rootHome","paddingRight","paddingLeft","bottomNavigatorSpacer","container","PageLayout","className","containerFullHeigth","header","body","footer","PageName","classes","usePageContext","saveScrollPosition","getScrollPosition","containerRef","useRef","useEffect","savedPos","current","scrollTo","listenToScroll","e","scrollTop","setTimeout","addEventListener","node","removeEventListener","clsx","ref","id","Container","React","props","_props$component","component","Component","_props$disableGutters","disableGutters","_props$fixed","fixed","_props$maxWidth","maxWidth","other","_objectWithoutProperties","_extends","concat","capitalize","String","withStyles","_defineProperty","width","marginLeft","boxSizing","marginRight","spacing","display","breakpoints","up","Object","keys","values","reduce","acc","breakpoint","value","maxWidthXs","Math","max","xs","maxWidthSm","sm","maxWidthMd","md","maxWidthLg","lg","maxWidthXl","xl","name","bold","fontWeight","typography","platformFontWeight","SignIn","history","useHistory","useUserContext","setCanCallCallback","canCallCallback","window","onpopstate","go","src","fmTngLogo","alt","Typography","variant","onClick","push","pathname","routes","tnc","Button","color","fullWidth"],"mappings":"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","file":"static/js/28.78367380.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport clsx from 'clsx';\nimport \"./PageLayout.scss\"\nimport { usePageContext } from \"@Context/PageContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingTop: '4.3rem',\n    overflow:'auto',\n    backgroundColor: 'white',\n    height: '100%',\n    // \"&::after\":{\n    //   content: '\" \"',\n    //   display: 'block',\n    //   height: 'calc(1.25rem + 56px + 28px)',\n    //   width: '100%'\n    // }\n  },\n  rootHome: {\n    paddingTop: '4.3rem',\n    paddingRight: '0',\n    paddingLeft: '0',\n    overflow:'auto',\n    backgroundColor: 'white',\n    height: '100%',\n  },\n  bottomNavigatorSpacer: {\n    // Bottom navigation padding-bottom + Bottom navigation height + fab half height (56px / 2)\n    height: 'calc(1.25rem + 56px + 28px)'\n  },\n  container: {\n    height: '100%',\n  }\n}));\n\nconst PageLayout = ({ className, containerFullHeigth, header, body, footer, PageName }) => {\n  const classes = useStyles();\n  const { saveScrollPosition, getScrollPosition } = usePageContext();\n  const containerRef = useRef(null);\n\n  // if(containerRef.current){\n  //   console.log(containerRef.current);\n  //   console.log('containerRef available, scrollHeight',containerRef.current.scrollHeight)\n  // }else{\n  //   console.log('containerRef not available')\n  // }\n  useEffect(()=>{\n    if(PageName){\n      const savedPos = getScrollPosition(PageName);\n      // const { scrollTop, scrollHeight } = containerRef.current;\n      // console.log('scrollTop, scrollHeight before scrolling:',scrollTop,scrollHeight);\n      // console.log('scroll to',savedPos)\n      containerRef.current.scrollTo(0, savedPos);\n  \n      const listenToScroll = (e) => {\n        const { scrollTop } = containerRef.current;\n        // console.log('when scrolling scrollHeight',containerRef.current.scrollHeight)\n        // console.log(containerRef.current);\n        saveScrollPosition(scrollTop, PageName);\n      }\n      setTimeout(() => {\n        // console.log('add onscroll listener')\n        if(containerRef.current)\n        containerRef.current.addEventListener('scroll', listenToScroll);\n      }, 1);\n      const node = containerRef.current;\n      return () => {\n        node.removeEventListener('scroll', listenToScroll)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[])\n\n  return <Container className={PageName === \"home\" ? clsx(classes.rootHome, [className]) : clsx(classes.root, [className])} ref={containerRef} id='page-layout-container'>\n    {header}\n    <div className={clsx({[classes.container]:containerFullHeigth})}>\n      {body}\n    </div>\n    <div className={classes.footer}>\n    {\n      !!footer && <>\n        <div className={classes.bottomNavigatorSpacer} />\n        <div/>\n        {footer}\n      </>\n    }\n    </div>\n  </Container>;\n}\n\nexport { PageLayout };\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _defineProperty({\n      width: '100%',\n      marginLeft: 'auto',\n      boxSizing: 'border-box',\n      marginRight: 'auto',\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      display: 'block'\n    }, theme.breakpoints.up('sm'), {\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3)\n    }),\n\n    /* Styles applied to the root element if `disableGutters={true}`. */\n    disableGutters: {\n      paddingLeft: 0,\n      paddingRight: 0\n    },\n\n    /* Styles applied to the root element if `fixed={true}`. */\n    fixed: Object.keys(theme.breakpoints.values).reduce(function (acc, breakpoint) {\n      var value = theme.breakpoints.values[breakpoint];\n\n      if (value !== 0) {\n        acc[theme.breakpoints.up(breakpoint)] = {\n          maxWidth: value\n        };\n      }\n\n      return acc;\n    }, {}),\n\n    /* Styles applied to the root element if `maxWidth=\"xs\"`. */\n    maxWidthXs: _defineProperty({}, theme.breakpoints.up('xs'), {\n      maxWidth: Math.max(theme.breakpoints.values.xs, 444)\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"sm\"`. */\n    maxWidthSm: _defineProperty({}, theme.breakpoints.up('sm'), {\n      maxWidth: theme.breakpoints.values.sm\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"md\"`. */\n    maxWidthMd: _defineProperty({}, theme.breakpoints.up('md'), {\n      maxWidth: theme.breakpoints.values.md\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"lg\"`. */\n    maxWidthLg: _defineProperty({}, theme.breakpoints.up('lg'), {\n      maxWidth: theme.breakpoints.values.lg\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"xl\"`. */\n    maxWidthXl: _defineProperty({}, theme.breakpoints.up('xl'), {\n      maxWidth: theme.breakpoints.values.xl\n    })\n  };\n};\nvar Container = /*#__PURE__*/React.forwardRef(function Container(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$fixed = props.fixed,\n      fixed = _props$fixed === void 0 ? false : _props$fixed,\n      _props$maxWidth = props.maxWidth,\n      maxWidth = _props$maxWidth === void 0 ? 'lg' : _props$maxWidth,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"fixed\", \"maxWidth\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, fixed && classes.fixed, disableGutters && classes.disableGutters, maxWidth !== false && classes[\"maxWidth\".concat(capitalize(String(maxWidth)))]),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Container.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * @ignore\n   */\n  children: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * Set the max-width to match the min-width of the current breakpoint.\n   * This is useful if you'd prefer to design for a fixed set of sizes\n   * instead of trying to accommodate a fully fluid viewport.\n   * It's fluid by default.\n   */\n  fixed: PropTypes.bool,\n\n  /**\n   * Determine the max-width of the container.\n   * The container width grows with the size of the screen.\n   * Set to `false` to disable `maxWidth`.\n   */\n  maxWidth: PropTypes.oneOf(['lg', 'md', 'sm', 'xl', 'xs', false])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiContainer'\n})(Container);","export default __webpack_public_path__ + \"static/media/fmtnglogo.36033c38.svg\";","import React, { useEffect } from \"react\";\nimport { PageLayout } from \"@Common/PageLayout/PageLayout\";\nimport { Typography, makeStyles } from '@material-ui/core'\nimport Button from '@material-ui/core/Button';\nimport { useHistory } from \"react-router-dom\";\nimport './SignIn.scss';\nimport clsx from \"clsx\";\nimport { routes } from \"src/constants/routes.constant\";\nimport fmTngLogo from '@Assets/svgs/fmtnglogo.svg'\nimport { useUserContext } from \"@Context/UserContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  bold:{\n    fontWeight: theme.typography.platformFontWeight,\n  },\n}));\n\nconst SignIn = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { setCanCallCallback, canCallCallback } = useUserContext();\n\n  useEffect(()=>{\n    // user cannot click phone's back button to go back\n    window.onpopstate = () => {\n      if(canCallCallback){\n        // allow user to go back if in any case callback called before\n        // so user will not stuck in this page\n        // cuz proceed button do nothing and they cant go back\n      }else{\n        history.go(1);\n      }\n    };\n    return () => { window.onpopstate = () => {} }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[])\n\n  return (\n    <PageLayout\n      header={\"\"}\n      body={\n        <>\n          <div className={'signIn-container'}>\n            <img src={fmTngLogo} alt=\"FamilyMart\"/>\n\n            <Typography variant=\"h5\" className={'signIn-title'}>FamilyMart</Typography>\n            <div className={'signIn-content'}>\n              {`To proceed the transaction, we need access to your user information and register as FamilyMart Member.`}\n            <div>\n              {`By clicking the Proceed button, I agree to register as a FamilyMart Member and agree to its `}\n              <Typography \n                className={clsx('signIn-tncLink')}\n                onClick={() => history.push(({ pathname: routes.tnc}))} component={'span'}\n                >{'T&C'}\n              </Typography>\n            </div>\n            </div>\n            <Button className={clsx('signIn-button', classes.bold)} variant=\"contained\" color=\"primary\" \n            onClick={() => setCanCallCallback(true)} \n            fullWidth>{\"Proceed\"}\n            </Button>\n          </div>\n        </>\n      }\n    />\n  );\n};\n\nexport { SignIn };\n"],"sourceRoot":""}