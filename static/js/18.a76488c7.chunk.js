(this["webpackJsonpfamily-mart"]=this["webpackJsonpfamily-mart"]||[]).push([[18],{253:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(0);var r=n(382),a=n(383),i=n(350),c=(n(270),n(2)),o=function(e){var t=e.leftSlot,n=e.centerSlot,o=e.rightSlot;return Object(c.jsx)(r.a,{id:"appbar",className:"header-container",color:"secondary",position:"fixed",elevation:1,children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(a.a,{className:"header-toolbar",disableGutters:!0,children:[Object(c.jsx)("div",{className:"header-left",children:t}),Object(c.jsx)("div",{className:"header-center",children:n}),Object(c.jsx)("div",{className:"header-right",children:o})]})})})}},254:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(0);var r=n(11),a=n(367),i=(n(266),n.p+"static/media/back-btn.715fa344.svg"),c=n(2),o=function(e){var t=e.className,n=e.onBackClicked,o=Object(r.g)().goBack;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(a.a,{className:t||"backButton",edge:"start",color:"inherit","aria-label":"back",onClick:n||o,children:Object(c.jsx)("img",{src:i,alt:"pic"})})})}},256:function(e,t,n){"use strict";var r=n(3),a=n(0);t.a=function(){var e=Object(a.useState)(window.innerWidth),t=Object(r.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(window.innerHeight),o=Object(r.a)(c,2),l=o[0],s=o[1],d=Object(a.useRef)(),m=function(){clearTimeout(d.current),d.current=setTimeout((function(){var e=window.innerWidth,t=window.innerHeight;i(e),s(t)}),500)};return Object(a.useLayoutEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]),[n,l]}},262:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(0);var r=n(79),a=(n(271),n(216)),i=n(7),c=n(2),o=Object(a.a)((function(e){return{bold:{fontWeight:e.typography.platformFontWeight}}})),l=function(e){var t=e.children,n=o();return Object(c.jsx)(r.a,{className:Object(i.a)("page_header-container",n.bold),component:"h1",children:t})}},263:function(e,t,n){},264:function(e,t,n){"use strict";t.a=n.p+"static/media/delivery.873969ab.svg"},265:function(e,t,n){"use strict";t.a=n.p+"static/media/pickup.d42a4379.svg"},266:function(e,t,n){},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(20),a=n(0),i=n(216),c=n(350),o=n(7),l=(n(263),n(83)),s=n(2),d=Object(i.a)((function(e){return{root:{paddingTop:"4.3rem",overflow:"auto",backgroundColor:"white",height:"100%"},rootHome:{paddingTop:"4.3rem",paddingRight:"0",paddingLeft:"0",overflow:"auto",backgroundColor:"white",height:"100%"},bottomNavigatorSpacer:{height:"calc(1.25rem + 56px + 28px)"},container:{height:"100%"}}})),m=function(e){var t=e.className,n=e.containerFullHeigth,i=e.header,m=e.body,u=e.footer,b=e.PageName,j=d(),f=Object(l.c)(),p=f.saveScrollPosition,h=f.getScrollPosition,x=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(b){var e=h(b);x.current.scrollTo(0,e);var t=function(e){var t=x.current.scrollTop;p(t,b)};setTimeout((function(){x.current&&x.current.addEventListener("scroll",t)}),1);var n=x.current;return function(){n.removeEventListener("scroll",t)}}}),[]),Object(s.jsxs)(c.a,{className:"home"===b?Object(o.a)(j.rootHome,[t]):Object(o.a)(j.root,[t]),ref:x,id:"page-layout-container",children:[i,Object(s.jsx)("div",{className:Object(o.a)(Object(r.a)({},j.container,n)),children:m}),Object(s.jsx)("div",{className:j.footer,children:!!u&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:j.bottomNavigatorSpacer}),Object(s.jsx)("div",{}),u]})})]})}},269:function(e,t,n){"use strict";var r=n(253);n.d(t,"a",(function(){return r.a}))},270:function(e,t,n){},271:function(e,t,n){},276:function(e,t,n){"use strict";var r=n(254);n.d(t,"a",(function(){return r.a}))},289:function(e,t,n){"use strict";t.a=n.p+"static/media/add-btn.71cf1c03.svg"},290:function(e,t,n){"use strict";t.a=n.p+"static/media/minus-btn.e94d3a43.svg"},297:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var r,a,i=n(3),c=n(284),o=n(0),l=n.n(o),s=(n(337),n(216)),d=n(223),m=n(394),u=n(335),b=n(448),j=n(484),f=n(355),p=n(7),h=n(2),x=Object(s.a)((function(e){return{dropdownSelected:{color:"#1E91CF"},bold:{fontWeight:e.typography.platformFontWeight},secondaryButton:{fontFamily:"din_bold, din_regular"}}}));function O(e){var t=e.handleClick,n=e.title,r=x();return Object(h.jsx)("div",{className:"button-container",children:Object(h.jsx)(d.a,{variant:"contained",className:Object(p.a)("primary-btn",r.bold),onClick:t,children:n})})}function g(e){var t=Object(m.a)(u.a)(r||(r=Object(c.a)([""]))),n=e.handleClick,a=e.title,i=x();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(b.a,{className:"secondary-btn-box",onClick:n,children:Object(h.jsx)(t,{className:Object(p.a)("secondary-btn",i.secondaryButton),onClick:n,children:a})})})}function v(e){var t=Object(m.a)(u.a)(a||(a=Object(c.a)([""]))),n=e.label,r=void 0===n?null:n,o=e.title,s=e.selection,d=e.value,O=e.handleChange,g=e.type,v=e.isEdit,y=void 0===v?null:v,N=x(),w=l.a.useState(!1),S=Object(i.a)(w,2),C=S[0],F=S[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(b.a,{className:"available"===g?"secondary-btn-box-dynamic":"secondary-btn-box",children:[r&&Object(h.jsx)("span",{children:r}),Object(h.jsxs)(t,{className:"available"===g?"secondary-btn-dynamic":"secondary-btn",onClick:function(){return F(!C)},children:[o,Object(h.jsx)(j.a,{open:C,value:d,onChange:O,onClose:function(){F(!1)},onOpen:function(){F(!0)},className:"available"===g?y?"hidden-dropdown-slide-left":Object(p.a)("hidden-dropdown-dynamic",N.select):Object(p.a)("hidden-dropdown",N.select),children:s.map((function(e,t){return Object(h.jsx)(f.a,{name:e.name?e.name:e.label,value:e.value,selected:d===e.value,classes:{selected:N.dropdownSelected},children:e.description?e.description:e.label},t)}))})]})]})})}},319:function(e,t,n){},320:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return f}));var r=n(3),a=n(0),i=n(216),c=n(36),o=n(336),l=n.n(o),s=n(322),d=n(223),m=n(7),u=n(2),b=Object(i.a)((function(e){return{flexContainer:{display:"flex",alignItems:"center"},flex:{flex:1},iconWrapper:{flex:"0 0 2rem",alignSelf:"start",marginRight:"0.5rem"},sectionWrapper:{margin:"0.5rem 0",border:"1px solid ".concat(e.palette.grey[300]),borderRadius:"0.25rem",padding:"0.5rem"},sectionHeader:{whiteSpace:"nowrap",fontWeight:e.typography.platformFontWeight,color:e.palette.grey[700]},sectionContent:{fontSize:"0.8rem",color:e.palette.grey[500]},sectionContentButton:{flex:"0 0 2rem",alignSelf:"start"},input:{padding:"0.5rem"},label:{width:"100%"},section:{paddingTop:"1rem"},dropdown:{opacity:0,height:"2rem",width:"inherit",zIndex:1,position:"absolute"},textLeft:{textAlign:"start"},button:{padding:"inherit 0",justifyContent:"flex-end"}}})),j=[{label:"Remove it from my order",value:!1,isMandatory:"not mandatory"},{label:"Cancel the entire order",value:!0,isMandatory:"mandatory"}],f=Object(a.memo)((function(e){var t=e.productId,n=b(),i=Object(c.c)(),o=i.setMandatoryOption,f=i.cart,p=Object(a.useState)(!!f.find((function(e){return e.productId===t}))&&f.find((function(e){return e.productId===t})).mandatoryItem),h=Object(r.a)(p,2),x=h[0],O=h[1];Object(a.useEffect)((function(){O(!!f.find((function(e){return e.productId===t}))&&f.find((function(e){return e.productId===t})).mandatoryItem)}),[f,t]);var g=x?j[1].label:j[0].label;return Object(u.jsx)("div",{className:Object(m.a)(n.flexContainer,n.sectionWrapper),children:Object(u.jsx)("div",{className:n.flex,children:Object(u.jsxs)("div",{className:n.flexContainer,children:[Object(u.jsxs)("div",{className:Object(m.a)(n.flex,n.textLeft),children:[Object(u.jsx)("div",{className:n.sectionHeader,children:"If this product is not available"}),Object(u.jsx)("div",{className:n.sectionContent,children:g})]}),Object(u.jsx)("div",{className:n.sectionContentButton,children:Object(u.jsxs)(d.a,{color:"primary",className:n.button,children:[Object(u.jsx)(l.a,{}),Object(u.jsx)(s.a,{componentClass:n.dropdown,selectionList:j,currentSelectionValue:null!==x&&x,handleFilterChange:function(e){!0===e.target.value?o(t,!0):o(t,!1)}})]})})]})})})}))},322:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(0);var r=n(216),a=n(484),i=n(355),c=n(7),o=(n(319),n(2)),l=Object(r.a)((function(e){return{dropdownSelected:{color:"#1E91CF"},dropdown:{minHeight:"1rem",fontSize:"0.8rem"}}})),s=function(e){var t=e.selectionList,n=e.currentSelectionValue,r=e.handleFilterChange,s=e.componentClass,d=void 0===s?null:s,m=l();return Object(o.jsx)(a.a,{value:n,onChange:r,className:d?Object(c.a)(d):m.select,children:t.map((function(e,t){return Object(o.jsx)(i.a,{name:e.name?e.name:e.label,value:e.value,selected:n===e.value,classes:{selected:m.dropdownSelected,root:m.dropdown},children:e.description?e.description:e.label},t)}))})}},337:function(e,t,n){},341:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var r=n(246),a=n(2),i=function(e){var t=e.topCoordinate,n=void 0===t?"3%":t;return Object(a.jsx)("div",{style:{position:"absolute",left:"50%",top:n,backgroundColor:"white",borderRadius:"50%",width:"35px",height:"35px"},children:Object(a.jsx)(r.a,{size:30,style:{color:"black"}})})}},357:function(e,t,n){"use strict";t.a=n.p+"static/media/stopwatch.b1c204d3.svg"},358:function(e,t,n){"use strict";t.a=n.p+"static/media/fork.b4f2c812.svg"},359:function(e,t,n){"use strict";t.a=n.p+"static/media/marker.528b32b2.svg"},362:function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r,a,i,c=n(5),o=n(3),l=n(0),s=n.n(l),d=n(216),m=n(79),u=n(4),b=n(20),j=n(353),f=n(354),p=n(372),h=["title","titleId"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g(e,t){var n=e.title,c=e.titleId,o=O(e,h);return l.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:37,height:37,viewBox:"0 0 37 30",ref:t,"aria-labelledby":c},o),n?l.createElement("title",{id:c},n):null,r||(r=l.createElement("defs",null,l.createElement("style",null,".a{fill:#fff;}.b{fill:#59595c;}.c{filter:url(#a);}"),l.createElement("filter",{id:"a",x:0,y:0,width:37,height:37,filterUnits:"userSpaceOnUse"},l.createElement("feOffset",{input:"SourceAlpha"}),l.createElement("feGaussianBlur",{stdDeviation:1.5,result:"b"}),l.createElement("feFlood",{floodOpacity:.102}),l.createElement("feComposite",{operator:"in",in2:"b"}),l.createElement("feComposite",{in:"SourceGraphic"})))),l.createElement("g",{transform:"translate(-298.5 -251.5)",style:{fillOpacity:.45}},l.createElement("g",{className:"c",transform:"matrix(1, 0, 0, 1, 298.5, 251.5)",style:{fillOpacity:.45}},a||(a=l.createElement("rect",{className:"a",width:28,height:28,rx:14,transform:"translate(4.5 4.5)"}))),i||(i=l.createElement("g",{transform:"translate(311.5 264.5)"},l.createElement("rect",{className:"b",width:11,height:3,rx:1.5,transform:"translate(0 4)"}),l.createElement("rect",{className:"b",width:11,height:3,rx:1.5,transform:"translate(7) rotate(90)"})))))}var v,y,N,w=l.forwardRef(g),S=(n.p,["title","titleId"]);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function k(e,t){var n=e.title,r=e.titleId,a=F(e,S);return l.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:37,height:37,viewBox:"0 0 37 30",ref:t,"aria-labelledby":r},a),n?l.createElement("title",{id:r},n):null,v||(v=l.createElement("defs",null,l.createElement("style",null,".a{fill:#fff;}.b{fill:#59595c;}.c{filter:url(#a);}"),l.createElement("filter",{id:"a",x:0,y:0,width:37,height:37,filterUnits:"userSpaceOnUse"},l.createElement("feOffset",{input:"SourceAlpha"}),l.createElement("feGaussianBlur",{stdDeviation:1.5,result:"b"}),l.createElement("feFlood",{floodOpacity:.102}),l.createElement("feComposite",{operator:"in",in2:"b"}),l.createElement("feComposite",{in:"SourceGraphic"})))),l.createElement("g",{transform:"translate(4.5 4.5)",style:{fillOpacity:.45}},y||(y=l.createElement("g",{className:"c",transform:"matrix(1, 0, 0, 1, -4.5, -4.5)"},l.createElement("rect",{className:"a",width:28,height:28,rx:14,transform:"translate(4.5 4.5)"}))),N||(N=l.createElement("rect",{className:"b",width:11,height:3,rx:1.5,transform:"translate(9 13)"}))))}var I=l.forwardRef(k),z=(n.p,n(367)),E=n(36),T=n(356),R=n.n(T),B=n(86),D=n(7),P=n(320),W=n(11),A=n(9),L=n(289),_=n(290),q=n(448),M=n(297),H=n(2),Q=["removeItem","addItem","isReadOnly","onDeleteToggle","isActive","isEdit","showImage"],G=Object(d.a)((function(e){return{root:{padding:"0 0.25rem"},card:{padding:"0.5rem 1rem",borderRadius:"0.7rem",marginBottom:"1rem",width:"100%",transition:"margin .5s",boxShadow:"0px 0px 2px 1.5px rgba(0, 0, 0, 0.1)"},deleteAction:{color:e.palette.secondary.main,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"2rem",backgroundColor:e.palette.error.main},cover:{height:"5rem",flex:"0 0 5rem",borderRadius:"0.8rem",alignSelf:"center",border:"0.15rem solid ".concat(e.palette.customGrey.lighter)},flex:{flex:1},content:{padding:"0 0 0 1rem",display:"flex",flexDirection:"column",justifyContent:"space-between","&:last-child":{paddingBottom:0}},noImageContent:{padding:"0","&:last-child":{paddingBottom:0}},flexContainer:{display:"flex"},flexContainerPrice:{display:"flex",flexDirection:"row"},price:{textAlign:"right",alignSelf:"flex-end",fontSize:"0.9rem",paddingBottom:"0.2rem"},stepperWrapper:{flex:"0 0 6rem",alignItems:"center"},textSize:{fontSize:"0.9rem",textTransform:"unset"},smallerTextSize:{fontSize:"0.7rem",textTransform:"unset"},ifNotAvailableButton:{display:"inline"},iconButton:{flex:"0 0 2rem",padding:0},itemNumber:{textAlign:"center",alignSelf:"center",fontSize:"1.1rem",color:e.palette.customGrey.medium,fontFamily:"din_bold, din_regular"},slideLeft:{marginLeft:-80,borderRadius:"1.8rem 0 0 1.8rem"},slideOutAction:{display:"flex",alignItems:"center",justifyContent:"center",transition:"width .5s",overflow:"hidden",borderRadius:"0 0.5rem 0.5rem 0",marginBottom:"1rem",width:"1rem"},delete:{backgroundColor:e.palette.error.main,color:e.palette.secondary.main},redBold:{color:"#ff0000",fontFamily:"din_bold, din_regular"},mandatoryOptionsText:{color:"#6D6E71"},mandatoryOptionsTextSize:{fontSize:"0.8rem",textTransform:"unset"},dropdown:{height:"1.5rem",width:"7rem",fontSize:"0.75rem",border:"1px solid #fff",backgroundColor:"transparent",color:e.palette.primary.main,marginBottom:"0.5rem",marginTop:"1.4rem"},originalPrice:Object(b.a)({fontSize:"0.9rem",lineHeight:"1rem",textDecoration:"line-through",marginLeft:"0.25em"},e.breakpoints.down("xs"),{fontSize:"0.7rem"}),inlineText:{display:"inline"},fullWidth:{width:"100%"},bold:{fontFamily:"din_bold, din_regular",color:e.palette.grey[700]},ifNotAvailableText:{paddingRight:"0.2rem"}}})),Y=Object(l.memo)((function(e){e.removeItem,e.addItem;var t,n,r=e.isReadOnly,a=void 0!==r&&r,i=e.onDeleteToggle,c=e.isActive,d=e.isEdit,h=e.showImage,x=Object(u.a)(e,Q),O=G(),g=Object(W.g)(),v=Object(B.a)().formatCurrency,y=Object(E.c)(),N=y.updateCartItemQuantity,S=y.removeCartItem,C=y.setMandatoryOption,F=Object(l.useState)(!1),k=Object(o.a)(F,2),T=k[0],Y=k[1],U=null,J=x.price;x.discountedPrice<x.price&&(U=x.price,J=x.discountedPrice);var V=x.isDisabled,X=x.isFreeItem,K=void 0!==X&&X,Z=x.productImage,$=x.image,ee=x.productName,te=x.mandatoryItem,ne=x.quantity,re=x.isDisabled,ae=x.productId;s.a.useEffect((function(){i&&i(T)}),[T,i]),s.a.useEffect((function(){!c&&Y(!1)}),[c]);return Object(H.jsxs)("div",{className:Object(D.a)(O.root,O.flexContainer),children:[Object(H.jsx)("div",{className:O.slideOutAction,style:{width:0},onClick:function(){return S(x,!0,(function(){}),!1)},children:Object(H.jsx)(R.a,{color:"error"})}),Object(H.jsxs)(j.a,{className:Object(D.a)(O.flexContainer,O.card,(t={},Object(b.a)(t,O.slideLeft,T&&!a||d),Object(b.a)(t,O.swipeRight,d),t)),children:[h?Object(H.jsx)(p.a,{className:O.cover,image:"".concat("https://d18jz5vfkg70br.cloudfront.net/public/").concat(Z?Z.replace("JPG","jpg"):$.replace("JPG","jpg")),title:ee,onClick:function(){g.push({pathname:A.a.productDetails.replace(":id",ae)})}}):Object(H.jsx)(H.Fragment,{}),Object(H.jsxs)(f.a,{className:Object(D.a)(h?O.content:O.noImageContent,O.flex),children:[Object(H.jsxs)("div",{children:[Object(H.jsx)(m.a,{variant:"subtitle1",style:{marginBottom:"-0.25rem"},component:"div",className:Object(D.a)(O.textSize,O.bold),children:ee}),Object(H.jsx)("div",{style:{width:"100%"},children:a?Object(H.jsxs)(m.a,{variant:"subtitle1",component:"div",style:{marginBottom:V?"-0.25rem":"0.3rem"},children:[Object(H.jsxs)("span",{className:Object(D.a)(O.mandatoryOptionsTextSize,O.bold,O.ifNotAvailableText),children:["If not available: "," "]}),Object(H.jsx)("span",{className:Object(D.a)(O.mandatoryOptionsTextSize,O.mandatoryOptionsText),children:P.b.find((function(e){return te===e.value})).label})]}):Object(H.jsx)(q.a,{display:"flex",children:Object(H.jsx)(m.a,{variant:"subtitle1",style:{marginBottom:"0.25rem"},component:"div",className:Object(D.a)(O.mandatoryOptionsTextSize,O.bold,O.ifNotAvailableText),children:Object(H.jsx)(M.b,{label:"If not available: ",title:!1===te?"Remove it from my order":!0===te?"Cancel the entire order":"Remove it from my order",handleChange:function(e){K?C(ae,e.target.value,!0):C(ae,e.target.value)},value:void 0!==te&&te,selection:P.b,type:"available",isEdit:d})})})}),V?Object(H.jsx)(m.a,{variant:"subtitle1",component:"div",className:Object(D.a)(O.mandatoryOptionsTextSize,O.redBold),children:"Item out of stock"}):Object(H.jsx)(H.Fragment,{})]}),Object(H.jsxs)("div",{className:O.flexContainer,children:[a?Object(H.jsx)(m.a,{variant:"subtitle1",component:"div",children:Object(H.jsxs)("span",{className:Object(D.a)(O.textSize,O.bold,O.flexContainerPrice),children:[Object(H.jsx)("span",{children:"Qty: "}),Object(H.jsx)("span",{children:"\xa0"}),Object(H.jsx)("span",{children:ne})]})}):Object(H.jsxs)("div",{className:Object(D.a)((n={},Object(b.a)(n,O.stepperWrapper,!a),Object(b.a)(n,O.flex,a),n),O.flexContainer),children:[Object(H.jsx)(z.a,{className:Object(D.a)(O.iconButton),size:"small",disabled:ne<1,"aria-label":"remove",onClick:a||K?function(){}:function(){return S(x,!1,(function(){}),!1)},disableFocusRipple:K,disableRipple:K,children:K?Object(H.jsx)(I,{}):Object(H.jsx)("img",{src:_.a,alt:"minus"})}),Object(H.jsx)("div",{className:Object(D.a)(O.itemNumber,O.flex),children:x.quantity}),Object(H.jsx)(z.a,{className:Object(D.a)(O.iconButton),size:"small","aria-label":"add",onClick:a||re||K?null:function(){N(x,ne+1)},disableFocusRipple:re||K,disableRipple:re||K,children:re||K?Object(H.jsx)(w,{}):Object(H.jsx)("img",{src:L.a,alt:"add"})})]}),Object(H.jsxs)("div",{className:Object(D.a)(O.price,O.fullWidth),children:[!!U&&Object(H.jsx)(m.a,{className:Object(D.a)(O.inlineText,O.originalPrice),variant:"body1",color:"primary",component:"div",children:v(U)}),Object(H.jsx)("div",{className:Object(D.a)(O.flex,O.price,O.bold),children:v(J)})]})]})]})]}),a?Object(H.jsx)(H.Fragment,{}):Object(H.jsx)("div",{className:Object(D.a)(O.delete,O.slideOutAction),style:{width:T||d?80:0},onClick:function(){return S(x,!0,(function(){}),!1)},children:"Delete"})]})})),U=Object(d.a)((function(e){return{titleContainer:{display:"flex"},title:{fontFamily:"din_bold, din_regular",color:e.palette.grey[700],marginBottom:"1rem"},subtitle:{fontWeight:e.typography.platformFontWeightMedium,marginLeft:"0.25rem"},button:{flex:1,textAlign:"right",color:e.palette.primary.main},delete:{color:e.palette.secondary.main,backgroundColor:e.palette.error.main,display:"flex",alignItems:"center"},orderListText:{marginRight:"0.5rem",fontSize:"1.1rem"}}})),J=Object(l.memo)((function(e){var t=e.items,n=void 0===t?[]:t,r=e.showItemsCount,a=void 0!==r&&r,i=e.showImage,d=void 0===i||i,u=e.hideEditButton,b=void 0!==u&&u,j=e.isReadOnly,f=void 0===j||j,p=U(),h=s.a.useState(),x=Object(o.a)(h,2),O=x[0],g=x[1],v=s.a.useState(!1),y=Object(o.a)(v,2),N=y[0],w=y[1],S=s.a.useMemo((function(){return n.reduce((function(e,t){return e+t.quantity}),0)}),[n]);return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:p.titleContainer,children:[Object(H.jsxs)(m.a,{className:p.title,children:[Object(H.jsx)("span",{className:p.orderListText,children:"Order List"}),a&&Object(H.jsx)(H.Fragment,{children:1===S?Object(H.jsxs)("span",{className:p.subtitle,children:[S," item"]}):Object(H.jsxs)("span",{className:p.subtitle,children:[S," items"]})})]}),a&&!b&&Object(H.jsx)("div",{className:p.button,children:Object(H.jsx)(M.a,{handleClick:function(){return w(!N)},title:"Edit"})})]}),n.map((function(e,t){return Object(l.createElement)(Y,Object(c.a)(Object(c.a)({},e),{},{hideEditButton:b,key:e.productId+t,isEdit:N,isActive:(null===O||void 0===O?void 0:O.id)===e.id,isReadOnly:f,onDeleteToggle:function(t){return t&&g(e)},showImage:d}))}))]})}))},485:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return oe}));var r=n(5),a=n(3),i=n(20),c=n(0),o=n(7),l=n(216),s=n(10),d=n(477),m=n(394),u=n(246),b=n(79),j=n(223),f=n(478),p=n(479),h=n(492),x=n(225),O=n(219),g=n(86),v=n(276),y=n(362),N=n.p+"static/media/square-check-icon.6ca6a460.svg",w=n(269),S=n(267),C=n(262),F=n(265),k=n.p+"static/media/order-received.74a4e36d.svg",I=n.p+"static/media/preparing.ad49237d.svg",z=n.p+"static/media/order-complete.14a6b6e4.svg",E=n(357),T=n(264),R=n(358),B=n(359),D=n.p+"static/media/qr-icon.efa43d1f.svg",P=n(27),W=n(471),A=n(296),L=n.n(A),_=n(11),q=n(256),M=n(44),H=n(19),Q=n(83),G=n(36),Y=n(115),U=n(9),J=n(313),V=n(341),X=n(440),K=n.n(X),Z=n(360),$=n.n(Z),ee=n(432),te=n.n(ee),ne=n(2),re=Object(l.a)((function(e){return{root:{padding:0,position:"relative",color:"#6D6E71"},flexContainer:{display:"flex",alignItems:"center",justifyItems:"flex-start"},flex:{flex:1},flexMedium:{flex:1,lineHeight:"1.1"},flexSmallerColumn:{flex:"0 0 6rem",textAlign:"right"},smallerFontSize:{fontSize:"0.8rem"},smalleFontSize:{fontSize:"0.9rem"},smallFontSize:{fontSize:"1rem"},mediumFontSize:{fontSize:"1.1rem"},qrSection:{display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"1rem",borderRadius:"1rem",backgroundColor:"#e9fef2",marginBottom:"1rem"},qrDescription:{paddingLeft:"1rem",fontSize:"0.8rem",fontFamily:"din_bold, din_regular"},showQRBtn:{textTransform:"none",fontFamily:"din_bold, din_regular",color:"#3e9a04"},qrModal:{width:"280px",height:"330px",top:"50%",left:"50%",position:"fixed",transform:"translate(-50%, -50%)",borderRadius:"1rem",padding:"1rem",alignItems:"center",display:"flex",flexDirection:"column",rowGap:"30px"},qrModalDescription:{fontSize:"1rem",fontFamily:"din_bold, din_regular",textAlign:"center",opacity:"0.7"},closeButton:Object(i.a)({position:"fixed",left:"50%",marginLeft:"-1.75rem",bottom:"3.25rem",backgroundColor:e.palette.secondary.main,color:e.palette.primary.main},e.breakpoints.down("md"),{bottom:"20px"}),orderDetails:{margin:"1rem 0",backgroundColor:"#F4F9FC",borderRadius:"1rem",padding:"0.5rem 1rem"},orderPlacementStatus:{margin:"1rem 0",backgroundColor:"#F5FCF8",borderRadius:"1rem",padding:"1rem"},success:{width:"15%"},bolderText:{fontFamily:"din_bold, din_regular",color:e.palette.grey[700]},summary:{margin:"1rem 0",backgroundColor:e.palette.grey[100],borderRadius:"1rem",padding:"1rem"},paddingBottom:{paddingBottom:"1rem"},paddingBottom2:{paddingBottom:"0.5rem"},paddingBottom3:{paddingBottom:"0.7rem"},iconWrapper:{flex:"0 0 2rem",display:"flex",height:"100%"},stepper:{padding:0},summaryText:{fontWeight:100},steps:{fontSize:"0.7rem",fontFamily:"din_bold, din_regular",color:"#6D6E71"},loader:{height:function(e){return"calc(".concat(e.height,"px )")},width:"100%",display:"flex",flex:"1",justifyContent:"center",alignItems:"center"}}})),ae=Object(s.a)({alternativeLabel:{top:10,left:"calc(-50% + 10px)",right:"calc(50% + 10px)"},line:{borderTop:"1.5px dashed #59595C",borderRight:"none",borderBottom:"none",borderLeft:"none"}})(d.a),ie=Object(m.a)("div")((function(e){var t=e.theme;return{color:"dark"===t.palette.mode?t.palette.grey[700]:"#eaeaf0",display:"flex",height:22,alignItems:"center","& .QontoStepIcon-completedIcon":{color:"#FFF",zIndex:1,backgroundColor:"#1E91CF",borderRadius:"50%"},"& .QontoStepIcon-circle":{width:"20px",height:"20px",borderRadius:"50%",border:"1px solid #59595C",color:"#59595C",backgroundColor:"#FFFFFF",display:"flex",justifyContent:"center",alignItems:"center"},"& .QontoStepIcon-circle-inside":{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}}}));function ce(e){var t=e.completed,n=e.className;return Object(ne.jsx)(ie,{className:n,children:t?Object(ne.jsx)(K.a,{style:{fontSize:"1.2rem"},className:"QontoStepIcon-completedIcon"}):Object(ne.jsx)("div",{className:"QontoStepIcon-circle",children:Object(ne.jsx)("div",{className:"QontoStepIcon-circle-inside"})})})}var oe=function(){var e=Object(q.a)(),t=Object(a.a)(e,2)[1],n=re({height:t-200}),i=Object(_.i)().id,l=Object(_.g)(),s=Object(g.a)().formatCurrency,d=Object(M.b)().user,m=Object(H.b)().pushAlertPopUp,A=Object(Q.c)().saveScrollPosition,X=Object(c.useState)(void 0),K=Object(a.a)(X,2),Z=K[0],ee=K[1],ie=Object(c.useState)(!1),oe=Object(a.a)(ie,2),le=oe[0],se=oe[1],de=Object(c.useState)(!1),me=Object(a.a)(de,2),ue=me[0],be=me[1],je=Object(c.useState)(!1),fe=Object(a.a)(je,2),pe=fe[0],he=fe[1],xe=Object(c.useState)(""),Oe=Object(a.a)(xe,2),ge=Oe[0],ve=Oe[1],ye=[{label:"Order Received",icon:k},{label:"Order Preparation",icon:I},{label:"Out for Delivery",icon:T.a},{label:"Order Completed",icon:z}],Ne=[{label:"Order Received",icon:k},{label:"Order Preparation",icon:I},{label:"Ready for Pickup",icon:F.a},{label:"Order Completed",icon:z}],we={"Order Received":1,"Order Preparation":2,"Ready for Pickup":3},Se={"Order Received":1,"Order Preparation":2,"Out for Delivery":3},Ce=function(){Object(P.p)(d.token,i).then((function(e){var t,n,a=e.order.status;ve(a),"Delivery"===e.order.orderType?(t=Object.keys(Se).find((function(e){return e===a})),n=Object(r.a)(Object(r.a)({},e),{},{currentStep:Se[a]})):(t=Object.keys(we).find((function(e){return e===a})),n=Object(r.a)(Object(r.a)({},e),{},{currentStep:we[a]})),t||(se(!0),n=Object(r.a)(Object(r.a)({},e),{},{currentStep:4})),ee(n)})).catch((function(e){m("Problem connecting to server. Please try again later")}))};if(Object(c.useEffect)((function(){return window.onpopstate=function(e){var t=document.location.href;t.includes(U.a.order.replace(":id",Z.order.orderId))||t.includes(U.a.orders)||t.includes(U.a.orders)||(A(0,Q.b.home),l.replace(U.a.home))},function(){window.onpopstate=function(){}}}),[Z]),Object(c.useEffect)((function(){Ce()}),[]),Object(c.useEffect)((function(){!0===ue&&Ce()}),[ue]),!Z)return Object(ne.jsx)("div",{className:n.loader,children:Object(ne.jsx)(u.a,{})});var Fe=Z.orderDetails.reduce((function(e,t){return e+t.subtotal}),0),ke=Z.order,Ie=Z.orderDetails,ze=ke.orderNumber,Ee=ke.orderId,Te=ke.orderType,Re=ke.scheduledDateTime,Be=ke.deliveryAddress,De=ke.driverName,Pe=ke.driverPhone,We=ke.storeName,Ae=ke.remarks,Le=ke.grandTotal,_e=ke.promoCode,qe=ke.promoCodeTitle,Me=ke.promoDiscount,He=ke.deliveryFee,Qe=ke.requiredCutlery,Ge=void 0!==Qe&&Qe,Ye=ke.deliverySurchargeAmount,Ue=void 0===Ye?0:Ye;return Object(ne.jsx)(S.a,{header:Object(ne.jsx)(w.a,{leftSlot:Object(ne.jsx)(v.a,{}),centerSlot:Object(ne.jsxs)(C.a,{children:["ORDER #",ze]})}),body:Object(ne.jsx)("div",{className:n.root,children:Object(ne.jsxs)(J.PullToRefresh,{pullDownThreshold:20,onRefresh:function(){return new Promise((function(e){be(!0),setTimeout((function(){be(!1),e()}),3e3)}))},triggerHeight:300,startInvisible:!0,children:[ue?Object(ne.jsx)(V.a,{}):null,Object(ne.jsxs)(ne.Fragment,{children:["Ready for Pickup"===ge?Object(ne.jsxs)("div",{className:Object(o.a)(n.qrSection),children:[Object(ne.jsx)("img",{src:D,width:"40px",height:"40px",style:{marginTop:"5px"},alt:"qrcode"}),Object(ne.jsx)(b.a,{className:n.qrDescription,children:"Show QR code to cashier for scanning to pick up your products"}),Object(ne.jsx)(j.a,{className:n.showQRBtn,onClick:function(){return he(!0)},children:"Show"})]}):Object(ne.jsxs)("div",{className:Object(o.a)(n.flexContainer,n.orderPlacementStatus),children:[Object(ne.jsx)("div",{className:n.success,children:Object(ne.jsx)("img",{src:N,alt:"completed",height:"30px",width:"30px"})}),Object(ne.jsx)(b.a,{className:Object(o.a)(n.flexMedium,n.smallerFontSize,n.bolderText),style:{width:"80%"},variant:"subtitle1",component:"div",children:"Delivery"===Te?Object(ne.jsx)(ne.Fragment,{children:"Your order has been successfully placed. We will update you once it is out for delivery."}):Object(ne.jsx)(ne.Fragment,{children:"Your order has been successfully placed. We will update you once it is ready for pickup."})})]}),Object(ne.jsx)(f.a,{activeStep:Z.currentStep,className:n.stepper,alternativeLabel:!0,connector:Object(ne.jsx)(ae,{}),children:"Delivery"===Te?ye.map((function(e){return Object(ne.jsx)(p.a,{children:Object(ne.jsxs)(h.a,{StepIconComponent:ce,children:[Object(ne.jsx)("div",{children:Object(ne.jsx)("img",{src:e.icon,alt:"icon",height:"35px",width:"35px"})}),Object(ne.jsx)("div",{className:n.steps,children:e.label})]})},e.label)})):Ne.map((function(e){return Object(ne.jsx)(p.a,{children:Object(ne.jsxs)(h.a,{StepIconComponent:ce,children:[Object(ne.jsx)("div",{children:Object(ne.jsx)("img",{src:e.icon,alt:"icon",height:"35px",width:"35px"})}),Object(ne.jsx)("div",{className:n.steps,children:e.label})]})},e.label)}))}),Object(ne.jsxs)("div",{className:n.orderDetails,children:[Object(ne.jsx)(b.a,{className:Object(o.a)(n.smallFontSize,n.paddingBottom2,n.bolderText),variant:"h6",children:"Order Details"}),Object(ne.jsxs)("div",{className:Object(o.a)(n.flexContainer,n.paddingBottom),children:[Object(ne.jsx)("div",{className:n.iconWrapper,children:Object(ne.jsx)("img",{src:E.a,alt:"time",height:"20px",width:"20px"})}),Object(ne.jsx)("div",{className:Object(o.a)(n.flex,n.smalleFontSize),children:Object(ne.jsx)($.a,{format:"DD MMM YYYY hh:mm A",children:Re})})]}),Object(ne.jsxs)("div",{className:Object(o.a)(n.flexContainer,n.paddingBottom2),children:[Object(ne.jsx)("div",{className:n.iconWrapper,children:Object(ne.jsx)("img",{src:B.a,alt:"icon",height:"20px",width:"20px"})}),Object(ne.jsx)("div",{className:n.smalleFontSize,children:"Delivery"===Te||Be?"Deliver to ".concat(Be):"Pick up at ".concat(We)})]}),Te===G.b.Delivery&&De&&Object(ne.jsxs)("div",{className:Object(o.a)(n.flexContainer,n.paddingBottom),children:[Object(ne.jsx)("div",{className:n.iconWrapper,children:Object(ne.jsx)("img",{src:T.a,alt:"icon",height:"25px",width:"25px"})}),Object(ne.jsxs)("div",{className:n.flex,children:[Object(ne.jsx)("div",{className:n.smalleFontSize,children:De||"-"}),Object(ne.jsx)("div",{className:n.smalleFontSize,children:Pe||"-"})]})]})]}),Object(ne.jsx)(y.a,{showItemsCount:!1,showImage:!1,hideEditButton:!0,items:Ie.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{productId:e.orderDetailProductId,price:e.subtotal/e.quantity,isDisabled:e.outOfStock})}))}),Object(ne.jsxs)("div",{className:n.orderDetails,children:[Object(ne.jsx)(b.a,{className:Object(o.a)(n.smallFontSize,n.paddingBottom2,n.bolderText),variant:"h3",component:"h2",children:"Cutlery Request"}),Object(ne.jsxs)("div",{className:Object(o.a)(n.flexContainer,n.paddingBottom),children:[Object(ne.jsx)("div",{className:n.iconWrapper,children:Object(ne.jsx)("img",{src:R.a,alt:"fork",height:"25px",width:"25px"})}),Object(ne.jsxs)("div",{className:n.flex,children:[" ",Object(ne.jsx)(b.a,{className:Object(o.a)(n.smalleFontSize,n.bolderText),variant:"h3",component:"div",gutterBottom:!0,children:Ge?"Cutlery Required":"No Cutlery Required"}),Object(ne.jsx)(b.a,{className:Object(o.a)(n.smallFontSize),variant:"body2",component:"div",style:{lineHeight:"1rem"},children:Ge?"Cutlery will be provided together with the order, subject to in-store availability":"Thank you for reducing plastic waste!"})]})]})]}),Object(ne.jsxs)("div",{className:n.orderDetails,children:[Object(ne.jsx)(b.a,{className:Object(o.a)(n.smallFontSize,n.paddingBottom2,n.bolderText),variant:"h3",component:"h2",children:"Remarks"}),Object(ne.jsx)("div",{children:Ae})]}),Object(ne.jsxs)("div",{className:n.summary,children:[Object(ne.jsxs)("div",{className:n.flexContainer,children:[Object(ne.jsx)(b.a,{className:Object(o.a)(n.cardHeaderText,n.flex,n.smallFontSize,n.bolderText),variant:"h4",component:"h3",children:"Subtotal"}),Object(ne.jsx)(b.a,{className:Object(o.a)(n.flexSmallerColumn,n.smallFontSize,n.bolderText),variant:"subtitle1",component:"div",children:s(Fe)})]}),Te===G.b.Delivery&&Object(ne.jsxs)("div",{className:n.flexContainer,children:[Object(ne.jsx)(b.a,{className:Object(o.a)(n.flex,n.smallFontSize,n.summaryText),variant:"h4",component:"h3",children:"Delivery"}),Object(ne.jsx)(b.a,{className:Object(o.a)(n.flexSmallerColumn,n.smallFontSize),variant:"subtitle1",component:"div",children:s(He)})]}),Te===G.b.Delivery&&Ue>0&&Object(ne.jsxs)("div",{className:n.flexContainer,children:[Object(ne.jsx)(b.a,{className:Object(o.a)(n.flex,n.smallFontSize,n.summaryText),variant:"h4",component:"h3",children:"Peak Hour Delivery Surcharge"}),Object(ne.jsx)(b.a,{className:Object(o.a)(n.flexSmallerColumn,n.smallFontSize),variant:"subtitle1",component:"div",children:s(Ue)})]}),_e?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("div",{className:n.flexContainer,children:[Object(ne.jsx)(b.a,{className:Object(o.a)(n.flex,n.smallFontSize),children:"Promo Code (".concat(_e,")")}),Object(ne.jsx)(b.a,{className:Object(o.a)(n.flexSmallerColumn,n.smallFontSize),variant:"subtitle1",component:"div",children:"- "+s(Me)})]}),Object(ne.jsx)("div",{className:n.flexContainer,children:Object(ne.jsx)(b.a,{className:Object(o.a)(n.flex,n.smallerFontSize,n.smallerPaddingBottom),children:qe})})]}):Object(ne.jsx)(ne.Fragment,{}),Object(ne.jsxs)("div",{className:n.flexContainer,children:[Object(ne.jsx)(b.a,{className:Object(o.a)(n.cardHeaderText,n.flex,n.smallFontSize,n.bolderText),variant:"h4",component:"h3",children:"Total (incl. tax)"}),Object(ne.jsx)(b.a,{className:Object(o.a)(n.flexSmallerColumn,n.smallFontSize,n.bolderText),variant:"subtitle1",component:"div",children:s(Le)})]})]})]}),Object(ne.jsx)(Y.a,{open:le,title:"Your order status has changed. Press OK to view your order.",onConfirm:function(){return l.push(U.a.order.replace(":id",Ee))},setOpen:se}),Object(ne.jsx)(x.a,{open:pe,onClose:function(){return he(!1)},children:Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(O.a,{className:n.qrModal,children:[Object(ne.jsxs)(b.a,{className:n.qrModalDescription,children:["Order #",ze]}),Object(ne.jsx)(te.a,{value:ze,size:150,style:{opacity:"0.7"}}),Object(ne.jsx)(b.a,{className:n.qrModalDescription,children:"Show QR code to cashier for scanning to pick up your products"})]}),Object(ne.jsx)(W.a,{className:n.closeButton,onClick:function(){return he(!1)},"aria-label":"close",children:Object(ne.jsx)(L.a,{})})]})})]})})})}}}]);
//# sourceMappingURL=18.a76488c7.chunk.js.map